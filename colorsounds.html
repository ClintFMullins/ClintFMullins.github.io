<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="colorsounds/index.css" media="screen" title="no title">
    <title>colorsounds</title>
  </head>
  <body>
    <div class="flex-container">
      <div class="row" style="background:Black;"></div>
      <div class="row" style="background:Navy;"></div>
      <div class="row" style="background:DarkBlue;"></div>
      <div class="row" style="background:MediumBlue;"></div>
      <div class="row" style="background:Blue;"></div>
      <div class="row" style="background:DarkGreen;"></div>
      <div class="row" style="background:Green;"></div>
      <div class="row" style="background:Teal;"></div>
      <div class="row" style="background:DarkCyan;"></div>
      <div class="row" style="background:DeepSkyBlue;"></div>
      <div class="row" style="background:DarkTurquoise;"></div>
      <div class="row" style="background:MediumSpringGreen;"></div>
      <div class="row" style="background:Lime;"></div>
      <div class="row" style="background:SpringGreen;"></div>
      <div class="row" style="background:Aqua;"></div>
      <div class="row" style="background:Cyan;"></div>
      <div class="row" style="background:MidnightBlue;"></div>
      <div class="row" style="background:DodgerBlue;"></div>
      <div class="row" style="background:LightSeaGreen;"></div>
      <div class="row" style="background:ForestGreen;"></div>
      <div class="row" style="background:SeaGreen;"></div>
      <div class="row" style="background:DarkSlateGray;"></div>
      <div class="row" style="background:DarkSlateGrey;"></div>
      <div class="row" style="background:LimeGreen;"></div>
      <div class="row" style="background:MediumSeaGreen;"></div>
      <div class="row" style="background:Turquoise;"></div>
      <div class="row" style="background:RoyalBlue;"></div>
      <div class="row" style="background:SteelBlue;"></div>
      <div class="row" style="background:DarkSlateBlue;"></div>
      <div class="row" style="background:MediumTurquoise;"></div>
      <div class="row" style="background:Indigo;"></div>
      <div class="row" style="background:DarkOliveGreen;"></div>
      <div class="row" style="background:CadetBlue;"></div>
      <div class="row" style="background:CornflowerBlue;"></div>
      <div class="row" style="background:RebeccaPurple;"></div>
      <div class="row" style="background:MediumAquaMarine;"></div>
      <div class="row" style="background:DimGray;"></div>
      <div class="row" style="background:DimGrey;"></div>
      <div class="row" style="background:SlateBlue;"></div>
      <div class="row" style="background:OliveDrab;"></div>
      <div class="row" style="background:SlateGray;"></div>
      <div class="row" style="background:SlateGrey;"></div>
      <div class="row" style="background:LightSlateGray;"></div>
      <div class="row" style="background:LightSlateGrey;"></div>
      <div class="row" style="background:MediumSlateBlue;"></div>
      <div class="row" style="background:LawnGreen;"></div>
      <div class="row" style="background:Chartreuse;"></div>
      <div class="row" style="background:Aquamarine;"></div>
      <div class="row" style="background:Maroon;"></div>
      <div class="row" style="background:Purple;"></div>
      <div class="row" style="background:Olive;"></div>
      <div class="row" style="background:Gray;"></div>
      <div class="row" style="background:Grey;"></div>
      <div class="row" style="background:SkyBlue;"></div>
      <div class="row" style="background:LightSkyBlue;"></div>
      <div class="row" style="background:BlueViolet;"></div>
      <div class="row" style="background:DarkRed;"></div>
      <div class="row" style="background:DarkMagenta;"></div>
      <div class="row" style="background:SaddleBrown;"></div>
      <div class="row" style="background:DarkSeaGreen;"></div>
      <div class="row" style="background:LightGreen;"></div>
      <div class="row" style="background:MediumPurple;"></div>
      <div class="row" style="background:DarkViolet;"></div>
      <div class="row" style="background:PaleGreen;"></div>
      <div class="row" style="background:DarkOrchid;"></div>
      <div class="row" style="background:YellowGreen;"></div>
      <div class="row" style="background:Sienna;"></div>
      <div class="row" style="background:Brown;"></div>
      <div class="row" style="background:DarkGray;"></div>
      <div class="row" style="background:DarkGrey;"></div>
      <div class="row" style="background:LightBlue;"></div>
      <div class="row" style="background:GreenYellow;"></div>
      <div class="row" style="background:PaleTurquoise;"></div>
      <div class="row" style="background:LightSteelBlue;"></div>
      <div class="row" style="background:PowderBlue;"></div>
      <div class="row" style="background:FireBrick;"></div>
      <div class="row" style="background:DarkGoldenRod;"></div>
      <div class="row" style="background:MediumOrchid;"></div>
      <div class="row" style="background:RosyBrown;"></div>
      <div class="row" style="background:DarkKhaki;"></div>
      <div class="row" style="background:Silver;"></div>
      <div class="row" style="background:MediumVioletRed;"></div>
      <div class="row" style="background:IndianRed;"></div>
      <div class="row" style="background:Peru;"></div>
      <div class="row" style="background:Chocolate;"></div>
      <div class="row" style="background:Tan;"></div>
      <div class="row" style="background:LightGray;"></div>
      <div class="row" style="background:LightGrey;"></div>
      <div class="row" style="background:Thistle;"></div>
      <div class="row" style="background:Orchid;"></div>
      <div class="row" style="background:GoldenRod;"></div>
      <div class="row" style="background:PaleVioletRed;"></div>
      <div class="row" style="background:Crimson;"></div>
      <div class="row" style="background:Gainsboro;"></div>
      <div class="row" style="background:Plum;"></div>
      <div class="row" style="background:BurlyWood;"></div>
      <div class="row" style="background:LightCyan;"></div>
      <div class="row" style="background:Lavender;"></div>
      <div class="row" style="background:DarkSalmon;"></div>
      <div class="row" style="background:Violet;"></div>
      <div class="row" style="background:PaleGoldenRod;"></div>
      <div class="row" style="background:LightCoral;"></div>
      <div class="row" style="background:Khaki;"></div>
      <div class="row" style="background:AliceBlue;"></div>
      <div class="row" style="background:HoneyDew;"></div>
      <div class="row" style="background:Azure;"></div>
      <div class="row" style="background:SandyBrown;"></div>
      <div class="row" style="background:Wheat;"></div>
      <div class="row" style="background:Beige;"></div>
      <div class="row" style="background:WhiteSmoke;"></div>
      <div class="row" style="background:MintCream;"></div>
      <div class="row" style="background:GhostWhite;"></div>
      <div class="row" style="background:Salmon;"></div>
      <div class="row" style="background:AntiqueWhite;"></div>
      <div class="row" style="background:Linen;"></div>
      <div class="row" style="background:LightGoldenRodYellow;"></div>
      <div class="row" style="background:OldLace;"></div>
      <div class="row" style="background:Red;"></div>
      <div class="row" style="background:Fuchsia;"></div>
      <div class="row" style="background:Magenta;"></div>
      <div class="row" style="background:DeepPink;"></div>
      <div class="row" style="background:OrangeRed;"></div>
      <div class="row" style="background:Tomato;"></div>
      <div class="row" style="background:HotPink;"></div>
      <div class="row" style="background:Coral;"></div>
      <div class="row" style="background:DarkOrange;"></div>
      <div class="row" style="background:LightSalmon;"></div>
      <div class="row" style="background:Orange;"></div>
      <div class="row" style="background:LightPink;"></div>
      <div class="row" style="background:Pink;"></div>
      <div class="row" style="background:Gold;"></div>
      <div class="row" style="background:PeachPuff;"></div>
      <div class="row" style="background:NavajoWhite;"></div>
      <div class="row" style="background:Moccasin;"></div>
      <div class="row" style="background:Bisque;"></div>
      <div class="row" style="background:MistyRose;"></div>
      <div class="row" style="background:BlanchedAlmond;"></div>
      <div class="row" style="background:PapayaWhip;"></div>
      <div class="row" style="background:LavenderBlush;"></div>
      <div class="row" style="background:SeaShell;"></div>
      <div class="row" style="background:Cornsilk;"></div>
      <div class="row" style="background:LemonChiffon;"></div>
      <div class="row" style="background:FloralWhite;"></div>
      <div class="row" style="background:Snow;"></div>
      <div class="row" style="background:Yellow;"></div>
      <div class="row" style="background:LightYellow;"></div>
      <div class="row" style="background:Ivory;"></div>
      <div class="row" style="background:White;"></div>
    </div>
  </body>

  <script type="text/javascript" src="colorsounds/tone.js"></script>
  <script type="text/javascript">
    (function() {
      var choices = [
        'AMSynth',
        'DuoSynth',
        'MembraneSynth',
        'PluckSynth',
      ];

      const randomChoiceIndex = Math.floor(Math.random() * choices.length);
      var instrument = new Tone.PolySynth(4, Tone[choices[randomChoiceIndex]]).toMaster();
      const notes = ['A', 'B', 'C', 'D', 'E', 'F', 'G'];
      const octaves = ['0', '1', '2'];

      function random(seed) {
        var x = Math.sin(seed) * 10000;
        return x - Math.floor(x);
      }

      function chooseRandom(set, seed) {
        return set[Math.floor(random(seed) * set.length)];
      }

      function playRandomNote(seed) {
        let chord = new Array(2)
        chord.fill(`${chooseRandom(notes, seed)}${chooseRandom(octaves, seed)}`)
        instrument.triggerAttackRelease(chord, "8n");
      }

      function holdRandomNote(seed) {
        let chord = new Array(2)
        chord.fill(`${chooseRandom(notes, seed)}${chooseRandom(octaves, seed)}`)
        instrument.triggerAttack(chord, "8n");
      }

      Array.from(document.getElementsByClassName('row')).forEach((element, index) => {
        element.addEventListener('mouseover', playRandomNote.bind(this, index));
        element.addEventListener('click', holdRandomNote.bind(this, index));
      });

      setInterval(() => {
        Array.from(document.getElementsByClassName('row')).forEach((element) => {
          element.style['min-height'] = `${Math.random() * 50 + 10}px`;
        });
      }, 100);
    })();
  </script>
</html>
